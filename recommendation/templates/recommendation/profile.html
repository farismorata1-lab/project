<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</title>

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body{
    margin:0;
    font-family:"Cairo",sans-serif;
    background:#f4f7fb;
}

/* ===== HERO ===== */
.hero{
    background:linear-gradient(rgba(0,0,0,.55),rgba(0,0,0,.55)),
    url("https://images.unsplash.com/photo-1507525428034-b723cf961d3e") center/cover no-repeat;
    padding:60px 20px;
    color:#fff;
    text-align:center;
}

.hero h1{
    margin:0;
    font-size:34px;
}

/* ===== CONTAINER ===== */
.container{
    width:92%;
    max-width:1200px;
    margin:40px auto;
}

/* ===== PROFILE CARD ===== */
.profile-card{
    background:#fff;
    border-radius:20px;
    padding:30px;
    box-shadow:0 8px 25px rgba(0,0,0,.1);
    display:flex;
    align-items:center;
    gap:25px;
}

.profile-card img{
    width:130px;
    height:130px;
    border-radius:50%;
    border:4px solid #0077b6;
    object-fit:cover;
}

.profile-info h2{
    margin:0;
    color:#023e8a;
}

.profile-info p{
    margin:6px 0;
    font-size:16px;
    color:#444;
}

/* ===== TABS ===== */
.tabs{
    margin-top:40px;
    display:flex;
    justify-content:center;
    gap:20px;
}

.tab-btn{
    padding:12px 26px;
    border-radius:30px;
    border:none;
    background:#e0e0e0;
    font-size:16px;
    cursor:pointer;
    transition:.3s;
}

.tab-btn.active{
    background:#023e8a;
    color:#fff;
}

/* ===== SECTIONS ===== */
.section{
    display:none;
    margin-top:35px;
}

.section.active{
    display:block;
}

/* ===== CARDS ===== */
.grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
    gap:22px;
}

.card{
    background:#fff;
    border-radius:16px;
    overflow:hidden;
    box-shadow:0 6px 18px rgba(0,0,0,.1);
    transition:.3s;
}

.card:hover{
    transform:translateY(-6px);
}

.card img{
    width:100%;
    height:180px;
    object-fit:cover;
}

.card .info{
    padding:15px;
}

.card h3{
    margin:0 0 6px;
    color:#023e8a;
}

.card p{
    font-size:14px;
    color:#555;
    margin:4px 0;
}

.rating{
    margin-top:6px;
    color:#ffb703;
    font-weight:bold;
}

.remove-btn{
    width:100%;
    margin-top:10px;
    padding:8px;
    border:none;
    background:#e63946;
    color:#fff;
    border-radius:10px;
    cursor:pointer;
}

/* ===== EMPTY ===== */
.empty{
    text-align:center;
    font-size:18px;
    color:#777;
}
</style>
</head>

<body>

<!-- HERO -->
<div class="hero">
    <h1>Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</h1>
</div>

<div class="container">

<!-- PROFILE -->
<div class="profile-card">
    <img src="https://i.ibb.co/xY0jfZy/profile-placeholder.png">
    <div class="profile-info">
        <h2>{{ username }}</h2>
        <p>ğŸ“§ {{ email }}</p>
        <p>â­ Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙØ¶Ù„Ø§Øª: {{ favorites|length }}</p>
        <p>âœˆï¸ Ø§Ù„Ø±Ø­Ù„Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©: {{ trips|length }}</p>
    </div>
</div>

<!-- TABS -->
<div class="tabs">
    <button class="tab-btn active" onclick="showTab('fav')">ğŸŒŸ Ø§Ù„Ù…ÙØ¶Ù„Ø§Øª</button>
    <button class="tab-btn" onclick="showTab('rate')">â­ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª</button>
    <button class="tab-btn" onclick="showTab('trip')">âœˆï¸ Ø§Ù„Ø±Ø­Ù„Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</button>
</div>

<!-- FAVORITES -->
<div id="fav" class="section active">
{% if favorites %}
<div class="grid">
{% for fav in favorites %}
<div class="card">
    <img src="{{ fav.place.image_url }}">
    <div class="info">
        <h3>{{ fav.place.name }}</h3>
        <p>{{ fav.place.country }} â€“ {{ fav.place.city }}</p>
        <a href="/place/{{ fav.place.id }}">Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„</a>

        <form method="POST" action="{% url 'remove_favorite' fav.place.id %}">
            {% csrf_token %}
            <button class="remove-btn">ğŸ—‘ Ø¥Ø²Ø§Ù„Ø©</button>
        </form>
    </div>
</div>
{% endfor %}
</div>
{% else %}
<p class="empty">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù…Ø§ÙƒÙ† Ù…ÙØ¶Ù„Ø© Ø¨Ø¹Ø¯</p>
{% endif %}
</div>

<!-- RATINGS -->
<div id="rate" class="section">
{% if ratings %}
<div class="grid">
{% for r in ratings %}
<div class="card">
    <img src="{{ r.place.image_url }}">
    <div class="info">
        <h3>{{ r.place.name }}</h3>
        <p class="rating">â­ ØªÙ‚ÙŠÙŠÙ…Ùƒ: {{ r.score }}/5</p>
        <p>{{ r.comment }}</p>
    </div>
</div>
{% endfor %}
</div>
{% else %}
<p class="empty">Ù„Ù… ØªÙ‚Ù… Ø¨ØªÙ‚ÙŠÙŠÙ… Ø£ÙŠ Ù…ÙƒØ§Ù† Ø¨Ø¹Ø¯</p>
{% endif %}
</div>

<!-- TRIPS -->
<div id="trip" class="section">
{% if trips %}
<div class="grid">
{% for t in trips %}
<div class="card">
    <img src="{{ t.place.image_url }}">
    <div class="info">
        <h3>{{ t.place.name }}</h3>
        <p>ğŸ“… {{ t.visit_date }}</p>
        <p>ğŸŒ {{ t.place.country }}</p>
    </div>
</div>
{% endfor %}
</div>
{% else %}
<p class="empty">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø±Ø­Ù„Ø§Øª Ø³Ø§Ø¨Ù‚Ø©</p>
{% endif %}
</div>

</div>

<script>
function showTab(id){
    document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
    document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    event.target.classList.add('active');
}
</script>

</body>
</html>
